# solr setting file
{in container}/etc/default/solr

# solr lib path
{in container}/usr/lib/solr/webapps/solr/WEB-INF/lib

# create solr core
{in container}hdfs dfs -mkdir /solr
{in container}sudo -u hdfs hadoop fs -chown solr /solr
{in container}service solr-server restart
#    generate solr conf
{in container}solrctl instancedir --generate $HOME/solr_configs

#     copy setting and jar files to solr
{in localhost}mkdir -p /var/lib/docker/aufs/mnt/<<container code>>/usr/lib/solr/contrib/thank/lib
{in localhost}cp /home/hsiehpinghan/.m2/repository/com/hankcs/hanlp/portable-1.3.1/hanlp-portable-1.3.1.jar /var/lib/docker/aufs/mnt/<<container code>>/usr/lib/solr/contrib/thank/lib
{in localhost}cp /home/hsiehpinghan/git/assistant/hanlp-assistant/target/hanlp-assistant-1.0.0.jar /var/lib/docker/aufs/mnt/<<container code>>/usr/lib/solr/contrib/thank/lib
{in localhost}mv /var/lib/docker/aufs/mnt/<<container code>>/root/solr_configs/conf/solrconfig.xml /var/lib/docker/aufs/mnt/<<container code>>/root/solr_configs/conf/solrconfig.xml_original
{in localhost}cp /home/hsiehpinghan/git/connet/apache-nutch-2.3.1/conf/thank-cloudera-solrconfig.xml /var/lib/docker/aufs/mnt/<<container code>>/root/solr_configs/conf/solrconfig.xml
{in localhost}mv /var/lib/docker/aufs/mnt/<<container code>>/root/solr_configs/conf/schema.xml /var/lib/docker/aufs/mnt/<<container code>>/root/solr_configs/conf/schema.xml_original
{in localhost}cp /home/hsiehpinghan/git/connet/apache-nutch-2.3.1/conf/thank-cloudera-schema.xml /var/lib/docker/aufs/mnt/<<container code>>/root/solr_configs/conf/schema.xml

#    uploads the content of the entire instance directory to ZooKeeper
{in container}solrctl instancedir --create collection1 $HOME/solr_configs
#    show solr instance
{in container}solrctl instancedir --list 
#    create solr collection
{in container}solrctl collection --create collection1 -s <<numOfShards>>


